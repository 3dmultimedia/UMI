/**
* Модуль платежной системы "Интеркасса"
* Разработчик: www.gateon.net 
* E-mail: www@smartbyte.pro
* Версия системы: 2.х (тестировался на 2.14)
* Версия модуля: 1.1
*/

===============================================
============Инструкция по установке============
===============================================

1. Распаковать архив, скопировать файлы на сервер в корневую директорию.
2. Запустить скрипт установки модуля install_ik.php, должен быть скопирован вместе с модулем в корень сайта. Зайти в браузере по адресу: http://Ваш_сайт/install_ik.php, при успехе будет выведено сообщение "Готово!".
3. Далее внимательно выполнить инструкции ниже по порядку:
 3.1 Перейти в административную панель магазина в раздел "Шаблоны данных" -> "Список оплаты"
	должен появиться после установки Тип: Interkassa. Выбрать его, нажать сверху
	на редактирование типа.
 3.2 Если в пункте 3 все прошло успешно, то вы увидите созданную группу полей
	"Свойства способа оплаты". Отлично, теперь можно добавить нужные нам опции для работы
	модуля. Если же этой группы нет, то перейдите к пункту PS.
 3.3 Создаем новую группу полей: Нажмите "Добавить группу", название "Параметры",
	значение "settings".
 3.4 Нажимаем внутри группы кнопку "Добавить поле", и создаем следующий набор полей по шаблону:
	Название [значение] (Тип)
	* - Обязательные параметры (нужно указать "Обязательный" при создании таких полей).
	ID кассы* [merchant_id] (Строка) Видимое
	Секретный ключ:* [secret_key] (Строка) Видимое
	Тестовый ключ: [test_key] (Строка) Видимое
	Тестовый режим: [test_mode] (Кнопка флажок) Видимое
	Режим хеша (md5/sha256): [hash_mode] (Строка) Видимое

	Во всех полях поставить галочку "Видимый"

 3.5 Жмем "Сохранить и выйти".
 3.6 Переходим в раздел "Интернет-магазин" -> "Оплата". Жмем "Добавить способ",
	внизу списка будет "Interkassa".
 3.7 Если в пункте 3.4 все было верно сделано, то вы увидите поля созданные вами,
	заполняем их в соответствии с личными данными из Интеркассы.
 3.8 Жмем сохранить, готово!

4. В личном кабинете "Интеркассы", в разделе "Интерфейс", введите в поля URL-ов взаимодействия:

URL успешной оплаты http://site_name/emarket/purchase/result/successful/
URL неуспешной оплаты http://site_name/emarket/purchase/result/fail/
URL ожидания проведения платежа http://site_name/emarket/purchase/result/successful/
URL взаимодействия Оставьте пустым, и включите переключатель "Разрешить переопределять в запросе"

5. На странице выбора способа оплаты появиться способ оплаты "Интеркасса". Удачных продаж!

PS
*Для тестирования платежей в кассе используйте тестовую валюту XTS (тестовая платежная система), для это необходимо включить в кассе этот пункт, и далее при перенаправлении на сайт "Интеркассы" выбрать ее в качестве оплаты, далее система сгенерирует тестовую страничку со всеми видами ответа от сервера, это поможет вам настроить все необходимые параметры и убедиться в работоспособности вашей системы.

*Если после запуска и успешного выполнения скрипта установки у вас в Типах оплаты появится 	Интеркасса, но там не будет группы полей, то это не страшно, добавляем ее вручную:

*Жмем "Добавить группу", Название: "Свойства способа оплаты", значение: "payment_props", тип "Строка", жмем сохранить.

*Добавляем внутрь группы 1 поле:
	Название: Тип оплаты
	Значение: payment_type_id
	Тип: Выпадающий список
	Жмем сохранить! Все готово!







